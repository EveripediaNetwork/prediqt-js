# Prediqt JavaScript/TypeScript Client Library

[![CircleCI](https://circleci.com/gh/EveripediaNetwork/prediqt-js/tree/master.svg?style=svg)](https://circleci.com/gh/EveripediaNetwork/prediqt-js/tree/master)
[![npm version](https://badge.fury.io/js/@everipedia%2Fprediqt-js.svg)](https://badge.fury.io/js/@everipedia%2Fprediqt-js)
[![MIT licensed](https://img.shields.io/badge/license-MIT-blue.svg)](https://raw.githubusercontent.com/everipedianetwork/prediqt-js/master/LICENSE)

> General purpose library for the Prediqt

## Installation

Using yarn:

```bash
yarn add @everipedia/prediqt-js
```

or using npm:

```bash
npm install --save @everipedia/prediqt-js
```

## Quick Start

**CommonJS**

```js
const { Prediqt } = require("prediqt-js")
const fetch = require("isomorphic-fetch")

const endpoint = "https://api.kylin.alohaeos.com"
const client = new Prediqt(endpoint, { fetch })
```

**TypeScript**

```ts
import { Prediqt } from "prediqt-js"
import fetch from "isomorphic-fetch"

const endpoint = "https://api.kylin.alohaeos.com"
const client = new Prediqt(endpoint, { fetch })
```

## API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### setAuth

Set authorisation to execute transactions

#### Parameters

-   `auth` **[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)<[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)>** 
    -   `auth[].actor` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 
    -   `auth[].permission` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 

### resetAuth

Reset authorisation to execute transactions

### setFee

Set a fee for the platform (admin only)

#### Parameters

-   `fee` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `fee.id` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** 
    -   `fee.fee` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** 

### acceptMarket

Accept a proposed market

#### Parameters

-   `resolver` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `marketId` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** 

### claimShares

Claim shares for a particular market

#### Parameters

-   `user` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `marketId` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** 

### cancelOrder

Cancel an order

#### Parameters

-   `nameId` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** takes "yes" or "no"
-   `user` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `marketId` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** 
-   `id` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** 

### createMarket

Create a Market

#### Parameters

-   `data` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `data.creator` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 
    -   `data.resolver` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 
    -   `data.ipfs` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 
    -   `data.timeIn` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** 
    -   `data.transferToken` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 

### deleteMarket

Delete an existing Market

#### Parameters

-   `marketId`  

### limitOrder

Open an order for shares in a market

#### Parameters

-   `data`  

### marketInvalid

Set a market as invalid (only resolver)

#### Parameters

-   `marketId`  
-   `memo`  

### marketResolve

Set the outcome of a market (only resolver)

#### Parameters

-   `data`  

### proposeMarket

Propose a market to be part of the active markets

#### Parameters

-   `creator`  
-   `resolver`  
-   `ipfs`  
-   `timeIn`  
-   `transferToken`  
-   `transferMemo`  

### rejectMarket

Reject a proposed market (resolver only)

#### Parameters

-   `resolver`  
-   `marketId`  

### setResolver

Change resolver for a market (admin only)

#### Parameters

-   `resolver`  
-   `marketId`  

### withdraw

Withdraw from user balance

#### Parameters

-   `user`  
-   `quantity`  

### syncBank

Sync Bank

### transferShares

Transfer shares between users

#### Parameters

-   `data`  

### cancelShares

Cancel user's shares

#### Parameters

-   `data`  

### buyShares

Buy shares

#### Parameters

-   `data`  

### sellShares

Sell shares

#### Parameters

-   `data`  

### getFees

Get fees related to the contract

#### Parameters

-   `limit`   (optional, default `100`)
-   `offset`   (optional, default `0`)

### getShares

Get shares related to a market

#### Parameters

-   `marketId`  
-   `limit`   (optional, default `100`)
-   `offset`   (optional, default `0`)

### getReferrals

Get referral shares related to a market

#### Parameters

-   `marketId`  
-   `limit`   (optional, default `100`)
-   `offset`   (optional, default `0`)

### getMarkets

Get markets

#### Parameters

-   `limit`   (optional, default `100`)
-   `offset`   (optional, default `0`)
-   `tableKey`   (optional, default `""`)

### getMarket

Get a single market

#### Parameters

-   `marketId`  

### getOrdersYes

Get order of type Yes for a market

#### Parameters

-   `marketId`  
-   `limit`   (optional, default `100`)
-   `offset`   (optional, default `0`)
-   `tableKey`   (optional, default `""`)

### getOrdersNo

Get order of type No for a market

#### Parameters

-   `marketId`  
-   `limit`   (optional, default `100`)
-   `offset`   (optional, default `0`)
-   `tableKey`   (optional, default `""`)

### getBalance

Get balance of an user

#### Parameters

-   `username`  
-   `symbol`  

### getIqBalance

Get IQ balance of an user

#### Parameters

-   `username`  

### getUserResources

Get resources of an user

#### Parameters

-   `username`  

### getAccount

Get account data of an user

#### Parameters

-   `username`  
